/* currencylayer.js | JavaScript client for the currencylayer API | currencylayer.com */
var CL=function(){var e={},r={access_key:null,currencies:null,source:null,from:null,to:null,amount:null,date:null,start_date:null,end_date:null};e.access_key=function(e){return r.access_key=e,this},e.currencies=function(e){return r.currencies=e,this},e.source=function(e){return r.source=e,this},e.from=function(e){return r.from=e,r.source=null,this},e.to=function(e){return r.to=e,r.source=null,this},e.amount=function(e){return r.amount=e,this},e.date=function(e){return r.date=e,this},e.start_date=function(e){return r.start_date=e,this},e.end_date=function(e){return r.end_date=e,this},e.callback=function(e,r,t){CLREQUEST["delete"](e),"undefined"!=typeof t.error&&(t=new Error(t.error)),r(t)};var t={perform:function(e){a("live",e,{source:r.source,currencies:r.currencies})}},n={perform:function(e){a("historical",e,{source:r.source,currencies:r.currencies,date:r.date})}},c={perform:function(e){a("convert",e,{from:r.from,to:r.to,amount:r.amount,date:r.date})}},u={perform:function(e){a("timeframe",e,{source:r.source,currencies:r.currencies,start_date:r.start_date,end_date:r.end_date})}},o={perform:function(e){a("change",e,{source:r.source,currencies:r.currencies,start_date:r.start_date,end_date:r.end_date})}},a=function(e,t,n){n.access_key=r.access_key;var c=CLREQUEST.create(e,t,n);c="fetch"!=e?c:fetch.getUrl(c),CLREQUEST.execute(c)};return e.live=t.perform,e.convert=c.perform,e.historical=n.perform,e.timeframe=u.perform,e.change=o.perform,e}(),CLREQUEST=function(){var e="http://apilayer.net/api/{endpoint}",r="callback",t={},n=0;t.create=function(r,t,n){n.callback=c(t);var o=u(n);return e.replace("{endpoint}",r)+"?"+o},t.execute=function(e){var r=document.createElement("script");r.src=e,document.head.appendChild(r)},t["delete"]=function(e){var t=r+e;delete CLREQUEST[t]};var c=function(e){n++;var t=n,c=r+t;return CLREQUEST[c]=function(r){CL.callback(t,e,r)},"CLREQUEST."+c},u=function(e){var r="";for(var t in e){var n=e[t];null!==n&&(r=""!=r?r+"&":r,r=r+t+"="+n)}return r};return t}();
